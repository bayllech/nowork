<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>nowork.click · 怒气释放</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script src="assets/theme.js"></script>
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
    <script src="assets/mock-data.js" defer></script>
    <style>
      @keyframes smashPulse {
        0% {
          transform: scale(1);
          box-shadow: 0 44px 100px rgba(222, 60, 64, 0.36);
        }
        50% {
          transform: scale(1.12);
          box-shadow: 0 88px 168px rgba(255, 112, 72, 0.62);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 44px 100px rgba(222, 60, 64, 0.36);
        }
      }
      @keyframes smashRipples {
        0% {
          opacity: 0.9;
          transform: scale(1);
        }
        70% {
          opacity: 0;
          transform: scale(1.75);
        }
        100% {
          opacity: 0;
          transform: scale(1.75);
        }
      }
      .smash-button::before,
      .smash-button::after {
        content: '';
        position: absolute;
        inset: 2.5%;
        border-radius: 999px;
        border: 4px solid rgba(255, 255, 255, 0.55);
        animation: smashRipples 1.7s cubic-bezier(0.19, 1, 0.22, 1) infinite;
      }
      .smash-button::after {
        animation-delay: 0.7s;
      }
      .smash-loop {
        animation: smashPulse 1.5s ease-in-out infinite;
      }
      .smash-active {
        animation: none !important;
        transform: scale(0.92) rotate(-4deg) !important;
        box-shadow: 0 34px 80px rgba(255, 82, 60, 0.7) !important;
      }
    </style>
    <script defer>
      document.addEventListener('DOMContentLoaded', () => {
        const stats = window.noworkMock.stats;
        document.querySelector('[data-today-count]').textContent = stats.today.toLocaleString();
        document.querySelector('[data-total-count]').textContent = stats.total.toLocaleString();
        document.querySelector('[data-anger-label]').textContent = stats.angerLabel;
      });
    </script>
  </head>
  <body class="bg-gradient-hero font-body text-ink">
    <div class="mx-auto flex min-h-screen max-w-6xl flex-col gap-5 px-6 pb-16 pt-6">
      <header class="flex items-center justify-between rounded-full bg-white/80 px-6 py-3 shadow-card backdrop-blur">
        <div class="flex items-center gap-3 text-sm text-muted">
          <span class="text-sm font-semibold uppercase tracking-[0.4em] text-primary-strong">Nowork</span>
          <span class="h-2 w-2 rounded-full bg-accent"></span>
          <span>打工人怒气续命计划</span>
        </div>
        <nav class="flex flex-wrap justify-end gap-3 text-sm font-semibold text-muted md:gap-5">
          <a href="index.html" class="rounded-full bg-primary-light px-4 py-2 text-primary-strong shadow-soft">释放页</a>
          <a href="ranking-cn.html" class="rounded-full px-4 py-2 hover:bg-white/70">中国榜</a>
          <a href="ranking-global.html" class="rounded-full px-4 py-2 hover:bg-white/70">海外榜</a>
          <a href="roles.html" class="rounded-full px-4 py-2 hover:bg-white/70">情景入口</a>
          <a href="share.html" class="rounded-full px-4 py-2 hover:bg-white/70">吐槽卡</a>
        </nav>
      </header>

      <main class="flex flex-col items-center gap-6">
        <section class="flex w-full flex-col items-center gap-4 text-center">
          <h1 class="font-display text-5xl font-extrabold leading-tight text-ink md:text-6xl">
            按下去，<span class="text-accent">甩掉今天的委屈</span>
          </h1>
          <p class="max-w-3xl text-sm leading-relaxed text-muted">
            巨型怒气按钮全年无休，猛敲即可触发怒气播报、炸裂音效与热点吐槽卡，一敲就上头。
          </p>
        </section>

        <section class="relative flex w-full flex-col items-center gap-5">
          <div class="relative grid h-[360px] w-[360px] place-items-center">
            <div class="absolute inset-0 -z-10 rounded-full bg-gradient-to-br from-accent/40 via-transparent to-primary-strong/35 blur-[140px]"></div>
            <button
              id="smashButton"
              class="smash-button smash-loop relative flex h-[300px] w-[300px] flex-col items-center justify-center overflow-hidden rounded-full text-white"
              style="background: radial-gradient(circle at 52% 12%, #ffe7c4 0%, #ff883f 50%, #ff1c38 92%);"
            >
              <span class="text-xs font-semibold uppercase tracking-[0.8em] text-white/80">Press &amp; Hold</span>
              <span class="mt-3 font-display text-[50px] font-black tracking-[0.16em] drop-shadow-[0_18px_38px_rgba(0,0,0,0.3)]">
                我就不想干
              </span>
              <span class="mt-5 inline-flex items-center gap-2 rounded-full bg-white/18 px-5 py-2 text-xs font-semibold uppercase tracking-[0.36em] text-white">
                <i class="fa-solid fa-volume-high text-white"></i> 炸裂音效
              </span>
            </button>
          </div>
          <audio
            id="smashSound"
            src="https://cdn.pixabay.com/download/audio/2023/02/02/audio_c607de6484.mp3?filename=punch-boxing-158522.mp3"
            preload="auto"
          ></audio>
        </section>

        <section class="grid w-full gap-2 rounded-[26px] bg-white/75 px-5 py-4 text-sm text-muted shadow-inner sm:grid-cols-2 md:grid-cols-4">
          <div class="flex items-center justify-center gap-3 border-white/40 px-2 py-2 md:border-r">
            <i class="fa-solid fa-fire text-accent text-lg"></i>
            <div>
              <p class="text-xs font-semibold tracking-[0.24em] text-primary-strong/70">今日猛击</p>
              <p data-today-count class="text-lg font-bold text-primary-strong"></p>
            </div>
          </div>
          <div class="flex items-center justify-center gap-3 border-white/40 px-2 py-2 md:border-r">
            <i class="fa-solid fa-earth-asia text-primary-strong text-lg"></i>
            <div>
              <p class="text-xs font-semibold tracking-[0.24em] text-primary-strong/70">全球累计</p>
              <p data-total-count class="text-lg font-bold text-primary-strong"></p>
            </div>
          </div>
          <div class="flex items-center justify-center gap-3 px-2 py-2">
            <i class="fa-solid fa-face-flushed text-accent text-lg"></i>
            <div>
              <p class="text-xs font-semibold tracking-[0.24em] text-primary-strong/70">当前心情</p>
              <p data-anger-label class="text-lg font-bold text-primary-strong"></p>
            </div>
          </div>
          <button
            id="openCard"
            class="group flex items-center justify-center gap-2 border-t border-white/40 px-2 py-3 text-center text-xs font-semibold tracking-[0.24em] text-primary-strong transition hover:bg-white/70 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary-strong/25 sm:col-span-2 sm:border-0 sm:border-l md:col-span-1"
            type="button"
          >
            <i class="fa-solid fa-share-nodes text-base transition group-hover:scale-110"></i>
            <span class="text-primary-strong">分享吐槽卡</span>
          </button>
        </section>
      </main>

      <footer class="flex flex-col gap-2 rounded-[24px] bg-white/78 px-5 py-4 text-xs text-muted shadow-inner md:flex-row md:items-center md:justify-between">
        <span>© 2025 nowork.click · 打工人情绪续命计划</span>
        <div class="flex flex-wrap items-center gap-3">
          <span><i class="fa-solid fa-lock mr-1"></i> 不存储个人数据，仅记录敲击次数</span>
          <span><i class="fa-regular fa-comment-dots mr-1"></i> 热梗每周更新</span>
        </div>
      </footer>
    </div>

    <div id="cardModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70 p-6 backdrop-blur">
      <div class="relative w-full max-w-2xl rounded-[24px] bg-white p-6 shadow-[0_46px_90px_rgba(0,0,0,0.28)]">
        <button id="closeCard" class="absolute right-5 top-5 text-lg text-muted transition hover:text-ink">
          <i class="fa-solid fa-xmark"></i>
        </button>
        <div class="grid gap-6 md:grid-cols-[1.1fr_0.9fr] md:items-start">
          <article class="grid gap-5 rounded-[18px] border border-primary/25 bg-white px-6 py-8 text-ink shadow-[0_22px_40px_rgba(65,55,255,0.18)]">
            <header class="grid gap-2">
              <div class="flex items-center justify-between">
                <span class="text-xs font-semibold uppercase tracking-[0.4em] text-primary-strong/70">nowork.click</span>
                <span class="inline-flex items-center gap-1 rounded-full bg-primary-light/60 px-3 py-1 text-[10px] font-semibold uppercase tracking-[0.24em] text-primary-strong">
                  <i class="fa-solid fa-face-angry text-primary-strong"></i> 怒气 Lv.2
                </span>
              </div>
              <div class="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.28em] text-ink/70">
                <i class="fa-solid fa-user-tie text-primary-strong"></i> 甲方模式
              </div>
            </header>
            <p class="text-lg leading-relaxed text-ink">
              刚上线两小时又要重构？那我袜子都脱了你告诉我游泳。甲方：小改一下，我们自己也能上——结果半夜 @ 你。
            </p>
            <div class="flex flex-wrap gap-3 text-sm text-ink/80">
              <span><i class="fa-solid fa-bolt mr-2"></i> 今日敲击 864 次</span>
              <span><i class="fa-solid fa-hashtag mr-1"></i> 打工人怒气联盟</span>
              <span><i class="fa-solid fa-hashtag mr-1"></i> 甲方又改需求</span>
            </div>
            <div class="flex flex-wrap gap-3 text-xs text-ink/60">
              <span><i class="fa-regular fa-clock mr-1"></i> 生成于 21:05</span>
              <span><i class="fa-solid fa-share-nodes mr-1"></i> 支持复制 / 下载 / 转发</span>
            </div>
          </article>
          <div class="grid gap-4 text-sm text-ink">
            <h3 class="flex items-center gap-2 text-base font-semibold text-ink">
              <i class="fa-solid fa-share-from-square text-primary"></i> 分享方式
            </h3>
            <p>🌶 一键复制文案，自动写入剪贴板，直接丢进群聊。</p>
            <p>📦 下载 PNG / SVG 卡片，朋友圈、小红书、钉钉群全通用。</p>
            <div class="grid gap-2">
              <button class="inline-flex items-center justify-center gap-2 rounded-2xl border border-primary/40 bg-white px-4 py-3 text-sm font-semibold text-ink shadow-soft transition hover:bg-primary-light/40">
                <i class="fa-solid fa-copy"></i> 复制文案
              </button>
              <button class="inline-flex items-center justify-center gap-2 rounded-2xl border border-primary/60 bg-white px-4 py-3 text-sm font-semibold text-ink shadow-soft transition hover:bg-primary-light/50">
                <i class="fa-solid fa-cloud-arrow-down"></i> 下载卡片
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const smashBtn = document.getElementById('smashButton');
        const smashSound = document.getElementById('smashSound');
        const openCard = document.getElementById('openCard');
        const closeCard = document.getElementById('closeCard');
        const cardModal = document.getElementById('cardModal');

        let smashCount = 0;
        const rageLevels = [
          { threshold: 0, color: '#ffe4c0', label: '炸裂音效' },
          { threshold: 20, color: '#ffb152', label: '怒气攀升' },
          { threshold: 50, color: '#ff6b3e', label: '狂敲状态' },
          { threshold: 100, color: '#ff223a', label: '即将爆炸' },
          { threshold: 200, color: '#ff0059', label: '核爆警报' },
          { threshold: 500, color: '#a000ff', label: '暴走模式' },
          { threshold: 1000, color: '#111111', label: '隐藏彩蛋' }
        ];

        const updateButtonState = (count) => {
          const level = rageLevels.reduce((curr, next) => (count >= next.threshold ? next : curr), rageLevels[0]);
          smashBtn.style.background = `radial-gradient(circle at 52% 12%, #ffe9c9 0%, ${level.color} 52%, ${level.color} 92%)`;
          const title = smashBtn.querySelector('span:nth-child(2)');
          const subTitle = smashBtn.querySelector('span:nth-child(3)');

          if (count >= 1000) {
            title.textContent = '老板已崩溃';
            subTitle.textContent = '隐藏彩蛋已解锁';
          } else {
            title.textContent = '我就不想干';
            subTitle.textContent = level.label;
          }
        };

        if (smashBtn && smashSound) {
          const triggerSmash = () => {
            smashBtn.classList.add('smash-active');
            smashSound.currentTime = 0;
            smashSound.play().catch(() => {});
            smashCount += 1;
            updateButtonState(smashCount);
          };
          const releaseSmash = () => {
            smashBtn.classList.remove('smash-active');
          };
          smashBtn.addEventListener('mousedown', triggerSmash);
          smashBtn.addEventListener('touchstart', triggerSmash, { passive: true });
          document.addEventListener('mouseup', releaseSmash);
          document.addEventListener('touchend', releaseSmash);
          document.addEventListener('touchcancel', releaseSmash);
        }

        if (openCard && closeCard && cardModal) {
          const openModal = () => {
            cardModal.classList.remove('hidden');
            cardModal.classList.add('flex');
          };
          const closeModal = () => {
            cardModal.classList.add('hidden');
            cardModal.classList.remove('flex');
          };
          openCard.addEventListener('click', openModal);
          closeCard.addEventListener('click', closeModal);
          cardModal.addEventListener('click', (event) => {
            if (event.target === cardModal) closeModal();
          });
        }
      });
    </script>
  </body>
</html>
